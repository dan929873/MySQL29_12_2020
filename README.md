# MySQL29_12_2020

hw09

Практическое задание по теме “Транзакции, переменные, представления”

1 В базе данных shop и sample присутствуют одни и те же таблицы, учебной базы данных. Переместите запись id = 1 из таблицы shop.users в таблицу sample.users. Используйте транзакции.
дз02
Практическое задание по теме “Управление БД”
1 Установите СУБД MySQL. Создайте в домашней директории файл .my.cnf, задав в нем логин и пароль, который указывался при установке.
2 Создайте базу данных example, разместите в ней таблицу users, состоящую из двух столбцов, числового id и строкового name.
3 Создайте дамп базы данных example из предыдущего задания, разверните содержимое дампа в новую базу данных sample.

дз03
Написать крипт, добавляющий в БД vk, которую создали на занятии, 3 новые таблицы (с перечнем полей, указанием индексов и внешних ключей)

дз04
1 Заполнить все таблицы БД vk данными (по 10-100 записей в каждой таблице)
2 Написать скрипт, возвращающий список имен (только firstname) пользователей без повторений в алфавитном порядке
3 Написать скрипт, отмечающий несовершеннолетних пользователей как неактивных (поле is_active = false). Предварительно добавить такое поле в таблицу profiles со значением по умолчанию = true (или 1)
4 Написать скрипт, удаляющий сообщения «из будущего» (дата больше сегодняшней)
5 Написать название темы курсового проекта (в комментарии)

дз05
Практическое задание по теме “Операторы, фильтрация, сортировка и ограничение”
1 Пусть в таблице users поля created_at и updated_at оказались незаполненными. Заполните их текущими датой и временем.
2 Таблица users была неудачно спроектирована. Записи created_at и updated_at были заданы типом VARCHAR и в них долгое время помещались значения в формате 
  "20.10.2017      8:10". Необходимо преобразовать поля к типу DATETIME, сохранив введеные ранее значения.
3 В таблице складских запасов storehouses_products в поле value могут встречаться самые разные цифры: 0, если товар закончился и выше нуля, если на складе 
  имеются запасы. Необходимо отсортировать записи таким образом, чтобы они выводились в порядке увеличения значения value. Однако, нулевые запасы должны 
  выводиться в конце, после всех записей.
  
дз06
Практическое задание по теме “Операторы, фильтрация, сортировка и ограничение. Агрегация данных”. Работаем с БД vk и данными, которые вы сгенерировали ранее:
1 Пусть задан некоторый пользователь. Из всех пользователей соц. сети найдите человека, который больше всех общался с выбранным пользователем (написал ему сообщений).
2 Подсчитать общее количество лайков, которые получили пользователи младше 10 лет..
3 Определить кто больше поставил лайков (всего): мужчины или женщины.

дз07
Тема “Сложные запросы”
1 Составьте список пользователей users, которые осуществили хотя бы один заказ orders в интернет магазине.
2 Выведите список товаров products и разделов catalogs, который соответствует товару.

дз09
Практическое задание по теме “Транзакции, переменные, представления”
1 В базе данных shop и sample присутствуют одни и те же таблицы, учебной базы данных. Переместите запись id = 1 из таблицы shop.users в таблицу 
  sample.users. Используйте транзакции.
2 Создайте представление, которое выводит название name товарной позиции из таблицы products и соответствующее название каталога name из 
  таблицы catalogs.
3 (по желанию) Пусть имеется таблица с календарным полем created_at. В ней размещены разряженые календарные записи за август 2018 года '2018-08-01', 
  '2016-08-04', '2018-08-16' и 2018-08-17. Составьте запрос, который выводит полный список дат за август, выставляя в соседнем поле значение 1, если 
  дата присутствует в исходном таблице и 0, если она отсутствует.
4 (по желанию) Пусть имеется любая таблица с календарным полем created_at. Создайте запрос, который удаляет устаревшие записи из таблицы, оставляя только 
  5 самых свежих записей.

Практическое задание по теме “Администрирование MySQL” (эта тема изучается по вашему желанию)
1 Создайте двух пользователей которые имеют доступ к базе данных shop. Первому пользователю shop_read должны быть доступны только запросы на чтение данных, 
  второму пользователю shop — любые операции в пределах базы данных shop.
2 (по желанию) Пусть имеется таблица accounts содержащая три столбца id, name, password, содержащие первичный ключ, имя пользователя и его пароль. 
  Создайте представление username таблицы accounts, предоставляющий доступ к столбца id и name. Создайте пользователя user_read, который бы не имел доступа к 
  таблице accounts, однако, мог бы извлекать записи из представления username.

Практическое задание по теме “Хранимые процедуры и функции, триггеры"
1 Создайте хранимую функцию hello(), которая будет возвращать приветствие, в зависимости от текущего времени суток. С 6:00 до 12:00 функция должна возвращать 
  фразу "Доброе утро", с 12:00 до 18:00 функция должна возвращать фразу "Добрый день", с 18:00 до 00:00 — "Добрый вечер", с 00:00 до 6:00 — "Доброй ночи".
2 В таблице products есть два текстовых поля: name с названием товара и description с его описанием. Допустимо присутствие обоих полей или одно из них. 
  Ситуация, когда оба поля 

дз11
Практическое задание по теме “Оптимизация запросов”
1 Создайте таблицу logs типа Archive. Пусть при каждом создании записи в таблицах users, catalogs и products в таблицу logs помещается время и дата 
  создания записи, название таблицы, идентификатор первичного ключа и содержимое поля name.
2 (по желанию) Создайте SQL-запрос, который помещает в таблицу users миллион записей.

Практическое задание по теме “NoSQL”
1 В базе данных Redis подберите коллекцию для подсчета посещений с определенных IP-адресов.
2 При помощи базы данных Redis решите задачу поиска имени пользователя по электронному адресу и наоборот, поиск электронного адреса пользователя по его имени.
3 Организуйте хранение категорий и товарных позиций учебной базы данных shop в СУБД MongoDB.

дз12
Требования к курсовому проекту:
1 Составить общее текстовое описание БД и решаемых ею задач;
2 минимальное количество таблиц - 10;
3 скрипты создания структуры БД (с первичными ключами, индексами, внешними ключами);
4 создать ERDiagram для БД;
5 скрипты наполнения БД данными;
6 скрипты характерных выборок (включающие группировки, JOIN'ы, вложенные таблицы);
7 представления (минимум 2);
8 хранимые процедуры / триггеры;







